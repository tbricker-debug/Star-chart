<!DOCTYPE html>
<html>
<head>
    <title>Super Star Chart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <style>
        body { font-family: 'Arial Rounded MT Bold', sans-serif; text-align: center; background: #e74c3c; color: white; padding: 15px; margin: 0; }
        .kid-card { background: #fff; border: 4px solid #f1c40f; border-radius: 20px; padding: 15px; margin: 15px auto; max-width: 350px; color: #333; box-shadow: 0 8px 0 #c0392b; }
        h2 { margin-top: 0; outline: none; text-transform: uppercase; color: #2c3e50; }
        .star-container { font-size: 35px; min-height: 50px; margin: 10px 0; letter-spacing: 5px; color: #f1c40f; }
        button { background: #2ecc71; color: white; border: none; padding: 15px 25px; border-radius: 50px; cursor: pointer; font-size: 18px; font-weight: bold; box-shadow: 0 5px 0 #27ae60; width: 80%; touch-action: manipulation; }
        button:active { transform: translateY(3px); box-shadow: 0 2px 0 #27ae60; }
        .reset { background: #bdc3c7; box-shadow: 0 5px 0 #95a5a6; font-size: 12px; margin-top: 20px; width: auto; padding: 5px 15px; border-radius: 10px; color: white; border: none; }
        .reward { display: none; background: #f1c40f; padding: 10px; border-radius: 10px; font-weight: bold; margin-top: 10px; color: #333; border: 2px dashed #e67e22; }
    </style>
</head>
<body>

    <h1>‚≠ê STAR CHART ‚≠ê</h1>

    <div class="kid-card">
        <h2 contenteditable="true">Player 1</h2>
        <div class="star-container" id="stars1"></div>
        <button onclick="addStar(1)">ADD STAR!</button>
        <div id="reward1" class="reward">üí∞ 10 STARS! REWARD! üí∞</div>
        <br><button class="reset" onclick="resetStars(1)">Reset Chart</button>
    </div>

    <div class="kid-card">
        <h2 contenteditable="true">Player 2</h2>
        <div class="star-container" id="stars2"></div>
        <button onclick="addStar(2)">ADD STAR!</button>
        <div id="reward2" class="reward">üí∞ 10 STARS! REWARD! üí∞</div>
        <br><button class="reset" onclick="resetStars(2)">Reset Chart</button>
    </div>

    <script>
        // 1. SOUND GENERATOR: Creates the beep using your phone's hardware
        const playBeep = () => {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const osc = ctx.createOscillator();
            const g = ctx.createGain();
            osc.connect(g); 
            g.connect(ctx.destination);
            osc.frequency.value = 800; // Pitch of the beep
            g.gain.setValueAtTime(0.1, ctx.currentTime);
            g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.1);
            osc.start(); 
            osc.stop(ctx.currentTime + 0.1);
        };

        // 2. DISPLAY UPDATER: Draws stars and checks for reward message
        function updateDisplay(id) {
            const count = localStorage.getItem('stars' + id) || 0;
            document.getElementById('stars' + id).innerHTML = '‚≠ê'.repeat(count);
            document.getElementById('reward' + id).style.display = (count >= 10) ? 'block' : 'none';
        }

        // 3. MAIN ACTION: Saves data, plays sound, and refreshes screen
        function addStar(id) {
            let count = parseInt(localStorage.getItem('stars' + id) || 0);
            if (count < 10) {
                localStorage.setItem('stars' + id, count + 1);
                playBeep(); 
                updateDisplay(id);
            }
        }

        // 4. RESET: Clears data for one player
        function resetStars(id) {
            if(confirm("Reset stars for this player?")) { 
                localStorage.setItem('stars' + id, 0); 
                updateDisplay(id); 
            }
        }

        // INITIALIZE: Run these immediately when page opens
        updateDisplay(1); 
        updateDisplay(2);
    </script>
</body>
</html>
